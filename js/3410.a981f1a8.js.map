{"version":3,"file":"js/3410.a981f1a8.js","mappings":"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","sources":["webpack://tangdata/./src/components/WH/WHSecondHandHouse.vue","webpack://tangdata/./src/components/WH/WHSecondHandHouse.vue?6654"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- 第一张图：合计 -->\n    <div class=\"chart-block\">\n      <div class=\"buttons\">\n        <button class=\"button\" :class=\"{ 'is-active': isBarActive }\"\n          @click=\"drawBarChart\">柱状图</button>\n        <button class=\"button\" :class=\"{ 'is-active': isLineActive }\"\n          @click=\"drawLineChart\">折线图</button>\n      </div>\n      <div class=\"chart-container\" id=\"oldHouseVolumeMonth\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\nimport { logger } from '@/utils/Logger.js';\n\nexport default {\n\n  data() {\n    return {\n      isBarActive: false,\n      isLineActive: false,\n      houseList: null,\n      chartsType: null,\n      oldHouseArrayYear2019: null,\n      oldHouseArrayYear2020: null,\n      oldHouseArrayYear2021: null,\n      oldHouseArrayYear2022: null,\n      oldHouseArrayMonth2019: null,\n      oldHouseArrayMonth2020: null,\n      oldHouseArrayMonth2021: null,\n      oldHouseArrayMonth2022: null\n    };\n  },\n  mounted() {\n    this.loadData();\n  },\n\n  methods: {\n    loadData() {\n      // 读取本地的 JSON 文件\n      fetch('json/whhouseTradingInfo.json')\n        .then(response => response.json())\n        .then(data => {\n          // logger.debug('读取本地数据二手房数据:', data.houseList);\n          this.houseList = data.houseList;\n          this.handleData();\n          // 处理数据绘制图表\n          this.drawBarChart();\n        })\n        .catch(error => {\n          logger.error('Error fetching data:', error)\n        })\n    },\n    handleData() {\n      // 2019-2022年二手房月成交累计数据\n      this.oldHouseArrayYear2019 = this.oldHouseTotalArr('oldHouseVolume','2019')\n      this.oldHouseArrayYear2020 = this.oldHouseTotalArr('oldHouseVolume','2020')\n      this.oldHouseArrayYear2021 = this.oldHouseTotalArr('oldHouseVolume','2021')\n      this.oldHouseArrayYear2022 = this.oldHouseTotalArr('oldHouseVolume','2022')\n      logger.debug('2022年二手房年成交数组 %o ',this.oldHouseArrayYear2022)\n      // 2019-2022年二手房月成交数据\n      this.oldHouseArrayMonth2019 = this.oldSelectMonthArr(this.oldHouseArrayYear2019)\n      this.oldHouseArrayMonth2020 = this.oldSelectMonthArr(this.oldHouseArrayYear2020)\n      this.oldHouseArrayMonth2021 = this.oldSelectMonthArr(this.oldHouseArrayYear2021)\n      this.oldHouseArrayMonth2022 = this.oldSelectMonthArr(this.oldHouseArrayYear2022)\n\n      //补全数据处理\n      this.oldHouseArrayMonth2020.unshift(0, 0, this.oldHouseArrayYear2020[0])\n      this.oldHouseArrayMonth2021.unshift(0, this.oldHouseArrayYear2021[0])\n      this.oldHouseArrayMonth2022.unshift(0, this.oldHouseArrayYear2022[0])\n      logger.debug('2022年二手房月成交数组 %o ',this.oldHouseArrayMonth2022)\n      //前面数据补齐-2020年前3月数据为0\n      this.oldHouseArrayMonth2020.unshift(0, 0, 0);\n    },\n    //按照年份与日期做筛选与排序\n    oldHouseTotalArr(houseType, year) {\n      var inventory = Number();\n      return this.houseList.filter( houseObj => {\n          var yearStr = String()\n          yearStr = houseObj.tradingDate\n          return yearStr.search(year) != -1;\n      }).sort(function(a,b) {\n          return a.statisticalTime > b.statisticalTime ? 1: -1;\n      }).map(item => {\n          if (houseType == 'oldHouseVolume') {\n              var volume = Number(item.oldHouseVolume)\n              return volume\n          }else if (houseType == 'newHouseVolume') {\n              inventory = Number(item.newHouseVolume)\n              return inventory\n          }else if (houseType == 'newHouseInventory'){\n              inventory = Number(item.newHouseInventory)\n              return inventory\n          }\n          \n      })\n    },\n    oldSelectMonthArr(arr) {\n            var tempArr = Array()\n            for(let i in arr) {\n                if (i>0) {\n                    var currenthMonth = (arr[i])-(arr[i-1])\n                    tempArr.push(currenthMonth)\n                }\n            }\n            return tempArr\n    },\n      \n\n    drawCharts() {\n        // 基于准备好的dom，初始化echarts实例（武汉新房月成交量柱状图）\n        var oldHouseVolumeBarMonthChart = echarts.init(document.getElementById('oldHouseVolumeMonth'));\n        // 指定图表的配置项和数据\n        var oldHouseVolumeBarMonthOption = {\n            title: {\n                text: '武汉二手房月成交量',\n                left: 'center',\n                top: 'top'\n            },\n            tooltip: {\n               //X轴悬浮显示所有数据\n               trigger: 'axis'\n            },\n            legend: {\n                left: 'center',\n                top: '10%'\n            },\n            grid: {\n                left: '1%',\n                right: '1%',\n                top: '20%',\n                bottom: '1%',\n                containLabel: true\n            },\n            xAxis: {\n                data: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']\n            },\n            yAxis: {},\n            series: [\n                {\n                    name: 2019,\n                    type: this.chartsType,\n                    data: this.oldHouseArrayMonth2019\n                },\n                {\n                    name: 2020,\n                    type: this.chartsType,\n                    data: this.oldHouseArrayMonth2020\n                },\n                {\n                    name: 2021,\n                    type: this.chartsType,\n                    data: this.oldHouseArrayMonth2021\n                },\n                {\n                    name: 2022,\n                    type: this.chartsType,\n                    data: this.oldHouseArrayMonth2022\n                }\n            ]\n        };\n        // 使用刚指定的配置项和数据显示图表。\n        oldHouseVolumeBarMonthChart.setOption(oldHouseVolumeBarMonthOption);\n      },\n      drawBarChart() {\n        this.isBarActive = true;\n        this.isLineActive = false;\n        this.chartsType = \"bar\"\n        this.drawCharts();\n \n      },\n      drawLineChart() {\n        this.isBarActive = false;\n        this.isLineActive = true;\n        // 在这里绘制折线图\n        this.chartsType = \"line\"\n        this.drawCharts();\n      }\n    }\n  };\n  </script>\n\n\n<style scoped>\n.container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n}\n\n/* 每个图表块：一张卡片 */\n.chart-block {\n  width: 100%;\n  max-width: 1400px;\n  margin: 0 auto 60px;\n  padding: 16px;\n  box-sizing: border-box;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.06);\n}\n\n/* 图表标题 */\n.chart-title {\n  text-align: center;\n  font-size: 18px;\n  font-weight: 700; /* 比 500 更粗，接近 canvas 渲染视觉效果 */\n  color: #333;\n  font-family: 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif;\n  margin: 24px 0 6px;\n  line-height: 1.4;\n}\n\n/* 图表副标题 */\n.chart-subtitle {\n  text-align: center;\n  font-size: 14px;\n  color: #666;\n  white-space: pre-line;\n  margin-bottom: 16px;\n}\n\n/* 图表切换按钮 */\n.buttons {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-bottom: 25px;\n  margin-top: 20px; /* ✅ 确保和 legend 保持间隔 */\n}\n\n.button {\n    padding: 6px 12px;\n    font-size: 13px;\n    border-radius: 10px;\n    background-color: #ccc;\n    color: #fff;\n    border: none;\n    cursor: pointer;\n    transition: background 0.3s;\n    margin-top: 10px;\n}\n\n.button.is-active {\n  background-color: #0bc2d6;\n}\n\n/* 图表 DOM 容器 */\n.chart-container {\n  width: 100%;\n  height: 600px;\n  margin: 0 auto;\n}\n\n</style>","import { render } from \"./WHSecondHandHouse.vue?vue&type=template&id=3fff9807&scoped=true\"\nimport script from \"./WHSecondHandHouse.vue?vue&type=script&lang=js\"\nexport * from \"./WHSecondHandHouse.vue?vue&type=script&lang=js\"\n\nimport \"./WHSecondHandHouse.vue?vue&type=style&index=0&id=3fff9807&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3fff9807\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_normalizeClass","$data","isBarActive","onClick","_cache","args","$options","drawBarChart","isLineActive","drawLineChart","_hoisted_4","data","houseList","chartsType","oldHouseArrayYear2019","oldHouseArrayYear2020","oldHouseArrayYear2021","oldHouseArrayYear2022","oldHouseArrayMonth2019","oldHouseArrayMonth2020","oldHouseArrayMonth2021","oldHouseArrayMonth2022","mounted","this","loadData","methods","fetch","then","response","json","handleData","catch","error","logger","oldHouseTotalArr","debug","oldSelectMonthArr","unshift","houseType","year","inventory","Number","filter","houseObj","yearStr","String","tradingDate","search","sort","a","b","statisticalTime","map","item","volume","oldHouseVolume","newHouseVolume","newHouseInventory","arr","tempArr","Array","i","currenthMonth","push","drawCharts","oldHouseVolumeBarMonthChart","echarts","document","getElementById","oldHouseVolumeBarMonthOption","title","text","left","top","tooltip","trigger","legend","grid","right","bottom","containLabel","xAxis","yAxis","series","name","type","setOption","__exports__","render"],"sourceRoot":""}