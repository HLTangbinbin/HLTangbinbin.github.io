"use strict";(self["webpackChunktangdata"]=self["webpackChunktangdata"]||[]).push([[9977],{9977:function(t,e,r){r.r(e),r.d(e,{default:function(){return w}});var a=r(6768),o=r(4232);const i=t=>((0,a.Qi)("data-v-4fb94afd"),t=t(),(0,a.jt)(),t),s={class:"container"},n={class:"chart-block"},h={class:"buttons"},l=i((()=>(0,a.Lk)("div",{class:"chart-container",id:"newHouseVolumeYear"},null,-1))),u={class:"chart-block"},c={class:"buttons"},m=i((()=>(0,a.Lk)("div",{class:"chart-container",id:"newHouseVolumeMonth"},null,-1))),d={class:"chart-block"},A={class:"buttons"},V=i((()=>(0,a.Lk)("div",{class:"chart-container-month",id:"newHouseVolumeMonthForArea"},null,-1)));function p(t,e,r,i,p,v){return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("div",h,[(0,a.Lk)("button",{class:(0,o.C4)(["button",{"is-active":p.isBarActive_VolumeYear}]),onClick:e[0]||(e[0]=(...t)=>v.drawBarChart_VolumeYear&&v.drawBarChart_VolumeYear(...t))},"柱状图",2),(0,a.Lk)("button",{class:(0,o.C4)(["button",{"is-active":p.isLineActive_VolumeYear}]),onClick:e[1]||(e[1]=(...t)=>v.drawLineChart_VolumeYear&&v.drawLineChart_VolumeYear(...t))},"折线图",2)]),l]),(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.Lk)("button",{class:(0,o.C4)(["button",{"is-active":p.isBarActive_VolumeMonth}]),onClick:e[2]||(e[2]=(...t)=>v.drawBarChart_VolumeMonth&&v.drawBarChart_VolumeMonth(...t))},"柱状图",2),(0,a.Lk)("button",{class:(0,o.C4)(["button",{"is-active":p.isLineActive_VolumeMonth}]),onClick:e[3]||(e[3]=(...t)=>v.drawLineChart_VolumeMonth&&v.drawLineChart_VolumeMonth(...t))},"折线图",2)]),m]),(0,a.Lk)("div",d,[(0,a.Lk)("div",A,[(0,a.Lk)("button",{class:(0,o.C4)(["button",{"is-active":p.isBarActive_VolumeMonthForArea}]),onClick:e[4]||(e[4]=(...t)=>v.drawBarChart_VolumeMonthForArea&&v.drawBarChart_VolumeMonthForArea(...t))},"柱状图",2),(0,a.Lk)("button",{class:(0,o.C4)(["button",{"is-active":p.isLineActive_VolumeMonthForArea}]),onClick:e[5]||(e[5]=(...t)=>v.drawLineChart_VolumeMonthForArea&&v.drawLineChart_VolumeMonthForArea(...t))},"折线图",2)]),V])])}r(4114);var v=r(8405),L=r(373),C={data(){return{AreaName:{JA:"江岸区",JH:"江汉区",QK:"硚口区",HY:"汉阳区",QS:"青山区",WC:"武昌区",HS:"洪山区",DXH:"东西湖区",DHGX:"东湖高新区",JJKF:"经济开发区",JX:"江夏区",HP:"黄陂区",CD:"蔡甸区",XZ:"新洲区",HN:"汉南区",TOTAL:"合计"},isBarActive_VolumeYear:!1,isLineActive_VolumeYear:!1,isBarActive_VolumeMonth:!1,isLineActive_VolumeMonth:!1,isBarActive_VolumeMonthForArea:!1,isLineActive_VolumeMonthForArea:!1,houseList:null,chartsType:null}},mounted(){this.loadData()},methods:{loadData(){fetch("json/whnewhouse.json").then((t=>t.json())).then((t=>{this.houseList=t.houseList,this.handleTotalData(),this.drawBarChart_VolumeYear(),this.drawBarChart_VolumeMonth(),this.drawBarChart_VolumeMonthForArea()})).catch((t=>{L.v.error("Error fetching data:",t)}))},handleTotalData(){this.selectMonthArr(this.houseArrayWith(this.AreaName.TOTAL),"2020").unshift(0,0,0)},houseArrayWith(t){return this.houseList.filter((e=>{var r=String();return r=e.cityDistrict,-1!=r.search(t)}))},selectMonthArr(t,e=(new Date).getFullYear()){return t.filter((t=>-1!=t.month.search(e))).sort((function(t,e){return t.statisticsTime>e.statisticsTime?1:-1})).map((t=>{var e=Number(t.houseNum);return e}))},calcYearTotal(t,e=(new Date).getFullYear()){const r=t.filter((t=>-1!=t.month.search(e))),a=r.reduce(((t,e)=>{const r=Number(e.houseNum)||0;return t+r}),0);return a},drawVolumeYearChart(){var t=v.Ts(document.getElementById("newHouseVolumeYear"));const e=[2018,2019,2020,2021,2022,2023,2024,2025],r=this.houseArrayWith(this.AreaName.TOTAL);var a={title:{text:"武汉新房年成交量",left:"center",top:"13"},tooltip:{trigger:"axis"},legend:{type:"scroll",left:"center",top:"10%"},grid:{left:"1%",right:"1%",top:"20%",bottom:"1%",containLabel:!0},xAxis:{data:e},yAxis:{},series:[{name:"总成交量",type:this.chartsType,data:e.map((t=>this.calcYearTotal(r,t)))}]};t.setOption(a)},drawVolumeMonthChart(){var t=v.Ts(document.getElementById("newHouseVolumeMonth"));const e=[2018,2019,2020,2021,2022,2023,2024,2025],r=this.houseArrayWith(this.AreaName.TOTAL);var a={title:{text:"武汉新房月成交量",left:"center",top:"13"},tooltip:{trigger:"axis"},legend:{type:"scroll",left:"center",top:"10%"},grid:{left:"1%",right:"1%",top:"20%",bottom:"1%",containLabel:!0},xAxis:{data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},yAxis:{},series:e.map((t=>({name:t,type:this.chartsType,data:this.selectMonthArr(r,String(t))})))};t.setOption(a)},drawVolumeMonthForAreaChart(){var t,e=v.Ts(document.getElementById("newHouseVolumeMonthForArea"));let r=this;setTimeout((function(){const a=Object.keys(r.AreaName).filter((t=>"TOTAL"!==t)),o=["product","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],i=a.map((t=>{const e=r.AreaName[t],a=r.selectMonthArr(r.houseArrayWith(e),2025);return a.unshift(e),a})),s=[o,...i],n=Object.values(r.AreaName).filter((t=>"合计"!==t)),h=n.map((()=>({type:r.chartsType,seriesLayoutBy:"row",emphasis:{focus:"series"}})));h.push({type:"pie",id:"pie",radius:"25%",center:["50%","25%"],emphasis:{focus:"self"},label:{formatter:"{b}: {@一月} ({d}%)"},encode:{itemName:"product",value:"一月",tooltip:"一月"}}),t={title:{text:"武汉各区域新房月成交量",left:"center",top:"top"},tooltip:{trigger:"axis"},legend:{type:"scroll",left:"center",top:"50px"},grid:{left:"1%",right:"1%",top:"450px",bottom:"1%",containLabel:!0},xAxis:{type:"category"},yAxis:{},dataset:{source:s},series:h},e.on("updateAxisPointer",(function(t){const r=t.axesInfo[0];if(r){const t=r.value+1;e.setOption({series:{id:"pie",label:{formatter:"{b}: {@["+t+"]} ({d}%)"},encode:{value:t,tooltip:t}}})}})),e.setOption(t)}),1e3),t&&e.setOption(t)},drawBarChart_VolumeYear(){this.isBarActive_VolumeYear=!0,this.isLineActive_VolumeYear=!1,this.chartsType="bar",this.drawVolumeYearChart()},drawLineChart_VolumeYear(){this.isBarActive_VolumeYear=!1,this.isLineActive_VolumeYear=!0,this.chartsType="line",this.drawVolumeYearChart()},drawBarChart_VolumeMonth(){this.isBarActive_VolumeMonth=!0,this.isLineActive_VolumeMonth=!1,this.chartsType="bar",this.drawVolumeMonthChart()},drawLineChart_VolumeMonth(){this.isBarActive_VolumeMonth=!1,this.isLineActive_VolumeMonth=!0,this.chartsType="line",this.drawVolumeMonthChart()},drawBarChart_VolumeMonthForArea(){this.isBarActive_VolumeMonthForArea=!0,this.isLineActive_VolumeMonthForArea=!1,this.chartsType="bar",this.drawVolumeMonthForAreaChart()},drawLineChart_VolumeMonthForArea(){this.isBarActive_VolumeMonthForArea=!1,this.isLineActive_VolumeMonthForArea=!0,this.chartsType="line",this.drawVolumeMonthForAreaChart()}}},_=r(1241);const M=(0,_.A)(C,[["render",p],["__scopeId","data-v-4fb94afd"]]);var w=M}}]);
//# sourceMappingURL=9977.ff727fba.js.map