"use strict";(self["webpackChunktangdata"]=self["webpackChunktangdata"]||[]).push([[88],{88:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var o=n(6768);const s={ref:"chartContainer",class:"chart-view"};function r(e,t,n,r,i,a){return(0,o.uX)(),(0,o.CE)("div",s,null,512)}var i=n(144),a=n(9671),c={name:"ChartView",props:{option:{type:Object,required:!0},debug:{type:Boolean,default:!1}},setup(e){const t=(0,i.KR)(null);let n=null,s=null,r=0,c=0,l=0;const u=(...t)=>{e.debug&&console.log("[ChartView]",...t)},d=()=>{t.value&&(n||(r++,console.time(`echarts-init-${r}`),n=a.Ts(t.value),console.timeEnd(`echarts-init-${r}`),u(`init #${r} (container):`,t.value),window.addEventListener("resize",h),s=new ResizeObserver((()=>{n&&n.resize()})),s.observe(t.value)),e.option&&Object.keys(e.option).length>0&&p(e.option))},p=e=>{if(!n)return;l++;const t=`echarts-setOption-${l}`;console.time(t);try{n.setOption(e,!1,!0)}catch(o){console.error("[ChartView] setOption error",o)}console.timeEnd(t),u(`setOption count=${l}`)},h=()=>{n&&n.resize()};return(0,o.sV)((async()=>{await(0,o.dY)(),u("onMounted"),d()})),(0,o.wB)((()=>e.option),(e=>{if(e&&Object.keys(e).length>0){const t=performance.now();p(e);const n=performance.now();u(`watch->applyOption elapsed ${(n-t).toFixed(1)} ms`)}}),{deep:!0}),(0,o.xo)((()=>{if(c++,console.time(`echarts-dispose-${c}`),window.removeEventListener("resize",h),s&&t.value){try{s.unobserve(t.value),s.disconnect()}catch(e){}s=null}if(n){try{n.dispose()}catch(e){}n=null}console.timeEnd(`echarts-dispose-${c}`),u("onBeforeUnmount, disposeCount=",c)})),{chartContainer:t}}},l=n(1241);const u=(0,l.A)(c,[["render",r],["__scopeId","data-v-4a7cde61"]]);var d=u}}]);
//# sourceMappingURL=88.f8a99867.js.map