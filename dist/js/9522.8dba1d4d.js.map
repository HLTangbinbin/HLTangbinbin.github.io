{"version":3,"file":"js/9522.8dba1d4d.js","mappings":"sMACSA,MAAM,mB,GACHA,MAAM,e,GAFlBC,IAAA,EAGkCD,MAAM,kB,GAE3BA,MAAM,kB,wEAJfE,EAAAA,EAAAA,IAgBM,MAhBNC,EAgBM,EAfFC,EAAAA,EAAAA,IAA8C,KAA9CC,GAA8CC,EAAAA,EAAAA,IAAnBC,EAAAC,MAAMC,OAAK,GAC5BF,EAAAC,MAAME,WAAQ,WAAxBR,EAAAA,EAAAA,IAA0E,KAA1ES,GAA0EL,EAAAA,EAAAA,IAAtBC,EAAAC,MAAME,UAAQ,KAH1EE,EAAAA,EAAAA,IAAA,QAKQR,EAAAA,EAAAA,IASM,MATNS,EASM,EARFT,EAAAA,EAAAA,IAGS,UAHAJ,OANrBc,EAAAA,EAAAA,IAAA,6BAM0E,QAAdC,EAAAC,aAAyBC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEJ,EAAAC,UAAY,OACxFI,KAAK,UAAS,QAElB,IACAhB,EAAAA,EAAAA,IAGS,UAHAJ,OAVrBc,EAAAA,EAAAA,IAAA,6BAU0E,SAAdC,EAAAC,aAA0BC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEJ,EAAAC,UAAY,QACzFI,KAAK,UAAS,QAElB,MAGJC,EAAAA,EAAAA,IAA6FC,EAAA,CAAjFd,MAAOD,EAAAC,MAAQQ,UAAWD,EAAAC,UAAYO,WAAYhB,EAAAgB,WAAaC,OAAQjB,EAAAiB,Q,oEAO3F,GACIC,WAAY,CAAEC,UAASA,EAAAA,YACvBC,MAAO,CACHnB,MAAOoB,OACPL,WAAYK,OACZJ,OAAQI,OACRC,iBAAkB,CACdT,KAAMU,OACNC,QAAS,QAGjBC,IAAAA,GACI,MAAO,CACHhB,UAAWiB,KAAKJ,iBAExB,G,UC/BJ,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,qGCROnC,MAAM,oB,GADbC,IAAA,EAEoCD,MAAM,qB,GAC/BA,MAAM,mB,6EAFfE,EAAAA,EAAAA,IAaM,MAbNC,EAaM,CAZOiC,EAAAC,sBAAmB,WAA9BnC,EAAAA,EAAAA,IAQM,MARNG,EAQM,EAPJD,EAAAA,EAAAA,IAMM,MANNO,EAMM,EALJP,EAAAA,EAAAA,IAAgD,OAA3CJ,OAJbc,EAAAA,EAAAA,IAAA,CAImB,aAAqBC,EAAAuB,Y,SAChClC,EAAAA,EAAAA,IAC2C,UADnCJ,OALhBc,EAAAA,EAAAA,IAAA,CAKsB,iBAAgB,CAAAyB,OAAgC,YAAbxB,EAAAuB,YAC9CrB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEJ,EAAAuB,SAAW,YAAW,KAAE,IAClClC,EAAAA,EAAAA,IAC0C,UADlCJ,OAPhBc,EAAAA,EAAAA,IAAA,CAOsB,iBAAgB,CAAAyB,OAAgC,WAAbxB,EAAAuB,YAC9CrB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEJ,EAAAuB,SAAW,WAAU,KAAE,SARzC1B,EAAAA,EAAAA,IAAA,sBAYIV,EAAAA,EAAAA,IACqBsC,EAAAA,GAAA,MAbzBC,EAAAA,EAAAA,IAYoCL,EAAAM,gBAATlC,K,WAAvBmC,EAAAA,EAAAA,IACqBC,EAAA,CAD4B3C,IAAKO,EAAMqC,GAAKrC,MAAOA,EAAQe,WAAYhB,EAAAgB,WACzFC,OAAQjB,EAAAiB,Q,iEAOf,GACEC,WAAY,CAAEqB,eAAcA,EAAAA,YAC5BnB,MAAO,CACLoB,cAAeC,MACfzB,WAAYK,OACZJ,OAAQI,OACRqB,YAAa,CAAE7B,KAAM8B,QAASnB,SAAS,IAEzCC,IAAAA,GACE,MAAO,CACLM,SAAU,UAEd,EACAa,SAAU,CACRd,mBAAAA,GACE,IAAKJ,KAAKgB,YAAa,OAAO,EAC9B,MAAMG,EAAU,IAAIC,IAAIpB,KAAKc,cAAcO,KAAKC,GAAMA,EAAEC,UACxD,OAAOJ,EAAQK,IAAI,OAASL,EAAQK,IAAI,KAC1C,EACAC,eAAAA,GACE,MAAMN,EAAU,IAAIC,IAAIpB,KAAKc,cAAcO,KAAKC,GAAMA,EAAEC,UACxD,OAAIJ,EAAQK,IAAI,MAAc,UAC1BL,EAAQK,IAAI,MAAc,SACvB,SACT,EACAE,cAAAA,GACE,OAAK1B,KAAKI,oBACHJ,KAAKc,cAAca,QAAQL,GACd,YAAlBtB,KAAKK,SAAsC,OAAbiB,EAAEC,OAA+B,OAAbD,EAAEC,SAFhBvB,KAAKc,aAI7C,EACAL,cAAAA,GACE,OAAOT,KAAK0B,eAAeC,QAAQpD,IACjC,MAAMqD,EAAK5B,KAAKV,YAAYuC,UAAUD,KAAKrD,EAAMgD,QACjD,OAAOR,MAAMe,QAAQF,IAAOA,EAAGG,OAAS,CAAC,GAE7C,GAEFC,OAAAA,GACEhC,KAAKK,SAAWL,KAAKyB,eACvB,G,UCrDF,MAAMxB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://tangdata/./src/components/common/ChartContainer.vue","webpack://tangdata/./src/components/common/ChartContainer.vue?9df1","webpack://tangdata/./src/components/common/ChartPage.vue","webpack://tangdata/./src/components/common/ChartPage.vue?6ceb"],"sourcesContent":["<template>\n    <div class=\"chart-container\">\n        <h3 class=\"chart-title\">{{ chart.title }}</h3>\n        <h4 v-if=\"chart.subtitle\" class=\"chart-subtitle\">{{ chart.subtitle }}</h4>\n\n        <div class=\"chart-controls\">\n            <button :class=\"['chart-button', { 'is-active': chartType === 'bar' }]\" @click=\"chartType = 'bar'\"\n                type=\"button\">\n                柱状图\n            </button>\n            <button :class=\"['chart-button', { 'is-active': chartType === 'line' }]\" @click=\"chartType = 'line'\"\n                type=\"button\">\n                折线图\n            </button>\n        </div>\n\n        <ChartCard :chart=\"chart\" :chartType=\"chartType\" :returnData=\"returnData\" :config=\"config\" />\n    </div>\n</template>\n\n<script>\nimport ChartCard from './ChartCard.vue';\n\nexport default {\n    components: { ChartCard },\n    props: {\n        chart: Object,\n        returnData: Object,\n        config: Object,\n        initialChartType: {\n            type: String,\n            default: 'bar'\n        }\n    },\n    data() {\n        return {\n            chartType: this.initialChartType\n        };\n    }\n};\n</script>\n\n<style scoped>\n.chart-container {\n  width: 100%;\n  max-width: 1500px;\n  margin: 0 auto 60px;\n  padding: 16px;\n  box-sizing: border-box;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.06);\n  margin-top: 50px;\n}\n\n.chart-title {\n  text-align: center;\n  font-size: 18px;\n  font-weight: 700; /* 比 500 更粗，接近 canvas 渲染视觉效果 */\n  color: #333;\n  font-family: 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif;\n  margin: 24px 0 6px;\n  line-height: 1.4;\n\n  \n}\n\n.chart-subtitle {\n  font-size: 13px;\n  font-weight: bold;\n  line-height: 20px;\n  color: #666; /* 可改为 #aaa 如果需要更淡 */\n  text-align: center;\n  white-space: pre-line;\n  overflow-wrap: break-word;\n  margin: 0 auto 12px;\n  max-width: 80vw; /* 等价于 window.innerWidth * 0.8 */\n}\n\n.chart-controls {\n  display: flex;\n  justify-content: center;\n  gap: 12px;\n  margin-bottom: 16px;\n  margin-top: 8px; /* ✅ 确保和 legend 保持间隔 */\n}\n\n.chart-button {\n    padding: 6px 12px;\n    font-size: 13px;\n    border-radius: 10px;\n    background-color: #ccc;\n    color: #fff;\n    border: none;\n    cursor: pointer;\n    transition: background 0.3s;\n    margin-top: 10px;\n}\n\n.chart-button.is-active {\n    background-color: #0bc2d6;\n}\n</style>","import { render } from \"./ChartContainer.vue?vue&type=template&id=9ae8c124&scoped=true\"\nimport script from \"./ChartContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ChartContainer.vue?vue&type=script&lang=js\"\n\nimport \"./ChartContainer.vue?vue&type=style&index=0&id=9ae8c124&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9ae8c124\"]])\n\nexport default __exports__","<template>\n  <div class=\"echart-container\">\n    <div v-if=\"internalShowToggles\" class=\"segment-container\">\n      <div class=\"segment-wrapper\">\n        <div class=\"segment-bg\" :class=\"viewMode\"></div>\n        <button class=\"segment-button\" :class=\"{ active: viewMode === 'monthly' }\"\n          @click=\"viewMode = 'monthly'\">月度</button>\n        <button class=\"segment-button\" :class=\"{ active: viewMode === 'yearly' }\"\n          @click=\"viewMode = 'yearly'\">年度</button>\n      </div>\n    </div>\n\n    <ChartContainer v-for=\"chart in chartsToRender\" :key=\"chart.id\" :chart=\"chart\" :returnData=\"returnData\"\n      :config=\"config\" />\n  </div>\n</template>\n\n<script>\nimport ChartContainer from './ChartContainer.vue';\n\nexport default {\n  components: { ChartContainer },\n  props: {\n    chartMetaList: Array,\n    returnData: Object,\n    config: Object,\n    showToggles: { type: Boolean, default: true },\n  },\n  data() {\n    return {\n      viewMode: 'monthly',\n    };\n  },\n  computed: {\n    internalShowToggles() {\n      if (!this.showToggles) return false;\n      const dbCodes = new Set(this.chartMetaList.map((c) => c.dbCode));\n      return dbCodes.has('yd') && dbCodes.has('nd');\n    },\n    defaultViewMode() {\n      const dbCodes = new Set(this.chartMetaList.map((c) => c.dbCode));\n      if (dbCodes.has('yd')) return 'monthly';\n      if (dbCodes.has('nd')) return 'yearly';\n      return 'monthly';\n    },\n    filteredCharts() {\n      if (!this.internalShowToggles) return this.chartMetaList;\n      return this.chartMetaList.filter((c) =>\n        this.viewMode === 'monthly' ? c.dbCode === 'yd' : c.dbCode === 'nd'\n      );\n    },\n    chartsToRender() {\n      return this.filteredCharts.filter((chart) => {\n        const sj = this.returnData?.dataList?.sj?.[chart.dbCode];\n        return Array.isArray(sj) && sj.length > 0;\n      });\n    },\n  },\n  created() {\n    this.viewMode = this.defaultViewMode;\n  },\n};\n</script>\n\n<style scoped>\n.segment-container {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n  margin-bottom: 30px;\n}\n\n.segment-wrapper {\n  position: relative;\n  display: flex;\n  width: 200px;\n  height: 45px;\n  background-color: #fff;\n  border-radius: 999px;\n  padding: 2px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n  /* ✅ 外部阴影更明显 */\n}\n\n/* 背景高亮滑块 */\n.segment-bg {\n  position: absolute;\n  top: 2px;\n  bottom: 2px;\n  width: 50%;\n  border-radius: 999px;\n  background-color: #0bc2d6;\n  transition: left 0.25s ease;\n  z-index: 0;\n}\n\n.segment-bg.monthly {\n  left: 2px;\n}\n\n.segment-bg.yearly {\n  left: 50%;\n}\n\n/* 按钮本体 */\n.segment-button {\n  position: relative;\n  flex: 1;\n  z-index: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: #333;\n  font-size: 14px;\n  font-weight: 500;\n  border-radius: 999px;\n  cursor: pointer;\n  transition: color 0.25s ease;\n}\n\n.segment-button.active {\n  color: #fff;\n}\n\n\n</style>","import { render } from \"./ChartPage.vue?vue&type=template&id=487f0ab0&scoped=true\"\nimport script from \"./ChartPage.vue?vue&type=script&lang=js\"\nexport * from \"./ChartPage.vue?vue&type=script&lang=js\"\n\nimport \"./ChartPage.vue?vue&type=style&index=0&id=487f0ab0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-487f0ab0\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$props","chart","title","subtitle","_hoisted_3","_createCommentVNode","_hoisted_4","_normalizeClass","$data","chartType","onClick","_cache","$event","type","_createVNode","_component_ChartCard","returnData","config","components","ChartCard","props","Object","initialChartType","String","default","data","this","__exports__","render","$options","internalShowToggles","viewMode","active","_Fragment","_renderList","chartsToRender","_createBlock","_component_ChartContainer","id","ChartContainer","chartMetaList","Array","showToggles","Boolean","computed","dbCodes","Set","map","c","dbCode","has","defaultViewMode","filteredCharts","filter","sj","dataList","isArray","length","created"],"sourceRoot":""}