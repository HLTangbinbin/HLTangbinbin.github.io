"use strict";(self["webpackChunktangdata"]=self["webpackChunktangdata"]||[]).push([[3548],{373:function(t,e,r){r.d(e,{v:function(){return s}});const o=["debug","info","warn","error"],a="warn",i={VUE_APP_API_BASE_URL:"https://quiet-inlet-66706-470978b16726.herokuapp.com",VUE_APP_REQUEST_IS_LOCAL:"true",NODE_ENV:"production",BASE_URL:""}.LOG_LEVEL||a;function n(t){return o.indexOf(t)>=o.indexOf(i)}const s={debug:(...t)=>{n("debug")&&console.log("[DEBUG]",...t)},info:(...t)=>{n("info")&&console.info("[INFO]",...t)},warn:(...t)=>{n("warn")&&console.warn("[WARN]",...t)},error:(...t)=>{n("error")&&console.error("[ERROR]",...t)}}},3548:function(t,e,r){r.r(e),r.d(e,{default:function(){return f}});var o=r(6768),a=r(4232);const i=t=>((0,o.Qi)("data-v-08baf9ca"),t=t(),(0,o.jt)(),t),n={class:"container"},s={class:"chart-block"},h=i((()=>(0,o.Lk)("h3",{class:"chart-title"},"武汉新房月成交量",-1))),u={class:"buttons"},l=i((()=>(0,o.Lk)("div",{class:"chart-container",id:"newHouseVolumeMonth"},null,-1))),c={class:"chart-block"},d=i((()=>(0,o.Lk)("h3",{class:"chart-title"},"武汉各区域新房月成交量",-1))),m={class:"buttons"},A=i((()=>(0,o.Lk)("div",{class:"chart-container-month",id:"newHouseVolumeMonthForArea"},null,-1)));function p(t,e,r,i,p,L){return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",s,[h,(0,o.Lk)("div",u,[(0,o.Lk)("button",{class:(0,a.C4)(["button",{"is-active":p.isBarActive_VolumeMonth}]),onClick:e[0]||(e[0]=(...t)=>L.drawBarChart_VolumeMonth&&L.drawBarChart_VolumeMonth(...t))},"柱状图",2),(0,o.Lk)("button",{class:(0,a.C4)(["button",{"is-active":p.isLineActive_VolumeMonth}]),onClick:e[1]||(e[1]=(...t)=>L.drawLineChart_VolumeMonth&&L.drawLineChart_VolumeMonth(...t))},"折线图",2)]),l]),(0,o.Lk)("div",c,[d,(0,o.Lk)("div",m,[(0,o.Lk)("button",{class:(0,a.C4)(["button",{"is-active":p.isBarActive_VolumeMonthForArea}]),onClick:e[2]||(e[2]=(...t)=>L.drawBarChart_VolumeMonthForArea&&L.drawBarChart_VolumeMonthForArea(...t))},"柱状图",2),(0,o.Lk)("button",{class:(0,a.C4)(["button",{"is-active":p.isLineActive_VolumeMonthForArea}]),onClick:e[3]||(e[3]=(...t)=>L.drawLineChart_VolumeMonthForArea&&L.drawLineChart_VolumeMonthForArea(...t))},"折线图",2)]),A])])}r(4114);var L=r(9671),M=r(373),V={data(){return{AreaName:{JA:"江岸区",JH:"江汉区",QK:"硚口区",HY:"汉阳区",QS:"青山区",WC:"武昌区",HS:"洪山区",DXH:"东西湖区",DHGX:"东湖高新区",JJKF:"经济开发区",JX:"江夏区",HP:"黄陂区",CD:"蔡甸区",XZ:"新洲区",HN:"汉南区",TOTAL:"合计"},isBarActive_VolumeMonth:!1,isLineActive_VolumeMonth:!1,isBarActive_VolumeMonthForArea:!1,isLineActive_VolumeMonthForArea:!1,houseList:null,chartsType:null}},mounted(){this.loadData()},methods:{loadData(){fetch("json/whnewhouse.json").then((t=>t.json())).then((t=>{this.houseList=t.houseList,this.handleTotalData(),this.drawBarChart_VolumeMonth(),this.drawBarChart_VolumeMonthForArea()})).catch((t=>{M.v.error("Error fetching data:",t)}))},handleTotalData(){this.selectMonthArr(this.houseArrayWith(this.AreaName.TOTAL),"2020").unshift(0,0,0)},houseArrayWith(t){return this.houseList.filter((e=>{var r=String();return r=e.cityDistrict,-1!=r.search(t)}))},selectMonthArr(t,e=(new Date).getFullYear()){return t.filter((t=>-1!=t.month.search(e))).sort((function(t,e){return t.statisticsTime>e.statisticsTime?1:-1})).map((t=>{var e=Number(t.houseNum);return e}))},drawVolumeMonthChart(){var t=L.Ts(document.getElementById("newHouseVolumeMonth"));const e=[2017,2018,2019,2020,2021,2022,2023,2024,2025],r=this.houseArrayWith(this.AreaName.TOTAL);var o={tooltip:{trigger:"axis"},legend:{left:"center",top:"5%"},grid:{left:"1%",right:"1%",top:"20%",bottom:"1%",containLabel:!0},xAxis:{data:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},yAxis:{},series:e.map((t=>({name:t,type:this.chartsType,data:this.selectMonthArr(r,String(t))})))};t.setOption(o)},drawVolumeMonthForAreaChart(){var t,e=L.Ts(document.getElementById("newHouseVolumeMonthForArea"));let r=this;setTimeout((function(){const o=Object.keys(r.AreaName).filter((t=>"TOTAL"!==t)),a=["product","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],i=o.map((t=>{const e=r.AreaName[t],o=r.selectMonthArr(r.houseArrayWith(e));return o.unshift(e),o})),n=[a,...i],s=Object.values(r.AreaName).filter((t=>"合计"!==t)),h=s.map((()=>({type:r.chartsType,seriesLayoutBy:"row",emphasis:{focus:"series"}})));h.push({type:"pie",id:"pie",radius:"30%",center:["50%","30%"],emphasis:{focus:"self"},label:{formatter:"{b}: {@一月} ({d}%)"},encode:{itemName:"product",value:"一月",tooltip:"一月"}}),t={tooltip:{trigger:"axis",position:["80%","40%"]},legend:{left:"center",top:"5%"},grid:{left:"1%",right:"1%",top:"50%",bottom:"1%",containLabel:!0},xAxis:{type:"category"},yAxis:{},dataset:{source:n},series:h},e.on("updateAxisPointer",(function(t){const r=t.axesInfo[0];if(r){const t=r.value+1;e.setOption({series:{id:"pie",label:{formatter:"{b}: {@["+t+"]} ({d}%)"},encode:{value:t,tooltip:t}}})}})),e.setOption(t)}),1e3),t&&e.setOption(t)},drawBarChart_VolumeMonth(){this.isBarActive_VolumeMonth=!0,this.isLineActive_VolumeMonth=!1,this.chartsType="bar",this.drawVolumeMonthChart()},drawLineChart_VolumeMonth(){this.isBarActive_VolumeMonth=!1,this.isLineActive_VolumeMonth=!0,this.chartsType="line",this.drawVolumeMonthChart()},drawBarChart_VolumeMonthForArea(){this.isBarActive_VolumeMonthForArea=!0,this.isLineActive_VolumeMonthForArea=!1,this.chartsType="bar",this.drawVolumeMonthForAreaChart()},drawLineChart_VolumeMonthForArea(){this.isBarActive_VolumeMonthForArea=!1,this.isLineActive_VolumeMonthForArea=!0,this.chartsType="line",this.drawVolumeMonthForAreaChart()}}},v=r(1241);const _=(0,v.A)(V,[["render",p],["__scopeId","data-v-08baf9ca"]]);var f=_}}]);
//# sourceMappingURL=3548.8bb997bb.js.map