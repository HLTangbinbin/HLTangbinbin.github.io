"use strict";(self["webpackChunktangdata"]=self["webpackChunktangdata"]||[]).push([[2663,8216,7629,2801],{5196:function(t,e,r){r.d(e,{C9:function(){return d},CZ:function(){return i},JC:function(){return o},QP:function(){return s},Yl:function(){return c},bC:function(){return l},r5:function(){return u},wK:function(){return n}});var a=r(2009);const o={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"EC",title:"普通本专科在校学生数(万人)",subtitle:"",period:"yearly",zbcodeArr:["A0801"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""}]},n={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"FIY",title:"地方财政收入(亿元)",subtitle:"",period:"yearly",zbcodeArr:["A0401"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"30%",unit:""},{id:"FOY",title:"地方财政支出(亿元)",subtitle:"",period:"yearly",zbcodeArr:["A0402"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"30%",unit:""},{id:"FDY",title:"住户存款余额(亿元)",subtitle:"",period:"yearly",zbcodeArr:["A0403"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"30%",unit:""}]},i={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"GDP",title:"一线城市GDP(亿元)",subtitle:"",period:"yearly",zbcodeArr:["A0101"],dbCode:"nd",chartType:"bar",exceptName:"增加值",legendTop:"5%",gridTop:"25%",unit:""}]},c={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"MC",title:"医院数(个)",subtitle:"",period:"yearly",zbcodeArr:["A0802"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""}]},s={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"PL",title:"年末户籍人口(万人)",subtitle:"",period:"yearly",zbcodeArr:["A0201"],dbCode:"nd",chartType:"bar",exceptName:"人口",legendTop:"5%",gridTop:"25%",unit:""}]},d={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"EI",title:"房地产开发投资额(亿元)",subtitle:"",period:"yearly",zbcodeArr:["A0303"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""}]},l={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"ES-SAY",title:"住宅商品房销售面积(万平方米)",subtitle:"",period:"yearly",zbcodeArr:["A030A"],dbCode:"nd",chartType:"bar",exceptName:"商品房销售面积(万平方米)",legendTop:"5%",gridTop:"25%",unit:""},{id:"ES-SY",title:"住宅商品房平均销售价格(元)",subtitle:"",period:"yearly",zbcodeArr:["A030C"],dbCode:"nd",chartType:"bar",exceptName:"商品房平均销售价格(元)",legendTop:"5%",gridTop:"25%",unit:""}]},u={source:{localJson:"./json/city.json",apiParams:a.d9,cityCodeArr:["110000","310000","440100","440300","330100","510100","420100","320100","500000","610100","410100","340100","430100"]},charts:[{id:"ES-SAY",title:"新建商品住宅销售价格指数(上月=100)",subtitle:"",period:"monthly",zbcodeArr:["A010804"],dbCode:"yd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""},{id:"ES-SY",title:"二手房住宅销售价格指数(上月=100)",subtitle:"",period:"monthly",zbcodeArr:["A010807"],dbCode:"yd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""}]}},6311:function(t,e,r){r.d(e,{h:function(){return c}});var a=r(2009),o=r(373);const n={},i=0;async function c({localJson:t,apiParams:e}){const r=!0,c=r?t:JSON.stringify(e),s=Date.now();if(n[c]){const{data:t,time:e}=n[c];if(0===i||s-e<i)return t}if(r)try{const e=await fetch(t);if(!e.ok)throw new Error(`状态码错误: ${e.status}`);const r=await e.json();return n[c]={data:r,time:s},r}catch(d){throw o.v.error("本地数据加载失败:",d),d}else try{const t=await(0,a.w$)(e);return n[c]={data:t,time:s},t}catch(d){throw o.v.error("接口请求失败:",d),d}}},6574:function(t,e,r){r.r(e),r.d(e,{default:function(){return h}});var a=r(6768);function o(t,e,r,o,n,i){const c=(0,a.g2)("ChartPage");return n.returnData?((0,a.uX)(),(0,a.Wv)(c,{key:0,chartMetaList:n.charts,returnData:n.returnData,config:n.config,showToggles:!1},null,8,["chartMetaList","returnData","config"])):(0,a.Q3)("",!0)}var n=r(9892),i=r(5196),c=r(6311),s=r(373),d={name:"CityPopulation",components:{ChartPage:n["default"]},data(){return{charts:i.QP.charts,returnData:null,config:i.QP.source}},async mounted(){try{this.returnData=await(0,c.h)(this.config)}catch(t){s.v.error("加载数据失败",t)}}},l=r(1241);const u=(0,l.A)(d,[["render",o]]);var h=u},8264:function(t,e,r){r.r(e),r.d(e,{default:function(){return C}});var a=r(6768),o=r(4232);const n=t=>((0,a.Qi)("data-v-10d8bf4a"),t=t(),(0,a.jt)(),t),i={class:"chart-container"},c={class:"chart-title"},s={key:0,class:"chart-subtitle"},d={class:"chart-controls"},l={class:"year-selector"},u=n((()=>(0,a.Lk)("label",{class:"year-label"},"选择时间范围",-1)));function h(t,e,r,n,h,p){const y=(0,a.g2)("el-slider"),b=(0,a.g2)("ChartCard");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("h3",c,(0,o.v_)(r.chart.title),1),r.chart.subtitle?((0,a.uX)(),(0,a.CE)("h4",s,(0,o.v_)(r.chart.subtitle),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",d,[(0,a.Lk)("button",{class:(0,o.C4)(["chart-button",{"is-active":"bar"===h.chartType&&!1===h.isHorizontal}]),onClick:e[0]||(e[0]=t=>{h.chartType="bar",h.isHorizontal=!1}),type:"button"}," 柱状图 ",2),(0,a.Lk)("button",{class:(0,o.C4)(["chart-button",{"is-active":"bar"===h.chartType&&!0===h.isHorizontal}]),onClick:e[1]||(e[1]=t=>{h.chartType="bar",h.isHorizontal=!0}),type:"button"}," 条形图 ",2),(0,a.Lk)("button",{class:(0,o.C4)(["chart-button",{"is-active":"line"===h.chartType&&!1===h.isHorizontal}]),onClick:e[2]||(e[2]=t=>{h.chartType="line",h.isHorizontal=!1}),type:"button"}," 折线图 ",2)]),(0,a.Lk)("div",l,[u,(0,a.bF)(y,{modelValue:h.yearLimit,"onUpdate:modelValue":e[3]||(e[3]=t=>h.yearLimit=t),min:1,max:20,step:1,"show-tooltip":"","format-tooltip":p.formatTooltip,class:"year-slider"},null,8,["modelValue","format-tooltip"])]),(0,a.bF)(b,{chart:r.chart,chartType:h.chartType,returnData:r.returnData,config:r.config,yearLimit:h.yearLimit,isHorizontal:h.isHorizontal},null,8,["chart","chartType","returnData","config","yearLimit","isHorizontal"])])}var p=r(5631),y={components:{ChartCard:p["default"]},props:{chart:Object,returnData:Object,config:Object,initialChartType:{type:String,default:"bar"},viewMode:String},data(){return{chartType:this.initialChartType,yearLimit:10,isHorizontal:!1}},computed:{formatTooltip(){return t=>{const e="monthly"===this.viewMode?"个月":"年";return`近 ${t} ${e}`}}}},b=r(1241);const g=(0,b.A)(y,[["render",h],["__scopeId","data-v-10d8bf4a"]]);var C=g},9892:function(t,e,r){r.r(e),r.d(e,{default:function(){return p}});var a=r(6768),o=r(4232);const n={class:"echart-container"},i={key:0,class:"segment-container"},c={class:"segment-wrapper"};function s(t,e,r,s,d,l){const u=(0,a.g2)("ChartContainer");return(0,a.uX)(),(0,a.CE)("div",n,[l.internalShowToggles?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",c,[(0,a.Lk)("div",{class:(0,o.C4)(["segment-bg",d.viewMode])},null,2),(0,a.Lk)("button",{class:(0,o.C4)(["segment-button",{active:"monthly"===d.viewMode}]),onClick:e[0]||(e[0]=t=>d.viewMode="monthly")},"月度",2),(0,a.Lk)("button",{class:(0,o.C4)(["segment-button",{active:"yearly"===d.viewMode}]),onClick:e[1]||(e[1]=t=>d.viewMode="yearly")},"年度",2)])])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.chartsToRender,(t=>((0,a.uX)(),(0,a.Wv)(u,{key:t.id,chart:t,returnData:r.returnData,config:r.config,viewMode:d.viewMode},null,8,["chart","returnData","config","viewMode"])))),128))])}var d=r(8264),l={components:{ChartContainer:d["default"]},props:{chartMetaList:Array,returnData:Object,config:Object,showToggles:{type:Boolean,default:!0}},data(){return{viewMode:"monthly"}},computed:{internalShowToggles(){if(!this.showToggles)return!1;const t=new Set(this.chartMetaList.map((t=>t.dbCode)));return t.has("yd")&&t.has("nd")},defaultViewMode(){const t=new Set(this.chartMetaList.map((t=>t.dbCode)));return t.has("yd")?"monthly":t.has("nd")?"yearly":"monthly"},filteredCharts(){return this.internalShowToggles?this.chartMetaList.filter((t=>"monthly"===this.viewMode?"yd"===t.dbCode:"nd"===t.dbCode)):this.chartMetaList},chartsToRender(){return this.filteredCharts.filter((t=>{const e=this.returnData?.dataList?.sj?.[t.dbCode];return Array.isArray(e)&&e.length>0}))}},created(){this.viewMode=this.defaultViewMode}},u=r(1241);const h=(0,u.A)(l,[["render",s],["__scopeId","data-v-ce7a7c4e"]]);var p=h}}]);
//# sourceMappingURL=2663.ae7ec744.js.map