{"version":3,"file":"js/9772.c93238f4.js","mappings":"8TAEO,MAAMA,EAAoB,CAE/BC,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,KACJC,MAAO,SACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,SACVC,OAAQ,KACRC,UAAW,MACXC,WAAY,GACZC,UAAW,KACXC,QAAS,MACTC,KAAM,MAMCC,EAAkB,CAE7BhB,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,KACJC,MAAO,WACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,QAAS,QAAS,SAC5BC,OAAQ,KACRC,UAAW,MACXC,WAAY,WACZC,UAAW,KACXC,QAAS,MACTC,KAAM,MAMCE,EAAc,CAEzBjB,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,MACJC,MAAO,aACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,QAAS,QAAS,QAAS,SACrCC,OAAQ,KACRC,UAAW,MACXC,WAAY,MACZC,UAAW,KACXC,QAAS,MACTC,KAAM,MAMCG,EAAkB,CAE7BlB,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,KACJC,MAAO,SACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,SACVC,OAAQ,KACRC,UAAW,MACXC,WAAY,GACZC,UAAW,KACXC,QAAS,MACTC,KAAM,MAMCI,EAAqB,CAEhCnB,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,KACJC,MAAO,aACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,SACVC,OAAQ,KACRC,UAAW,MACXC,WAAY,KACZC,UAAW,KACXC,QAAS,MACTC,KAAM,MAMCK,EAA2B,CAEtCpB,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,KACJC,MAAO,eACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,QAAS,QAAS,SAC5BC,OAAQ,KACRC,UAAW,MACXC,WAAY,WACZC,UAAW,KACXC,QAAS,MACTC,KAAM,MAMCM,EAAyB,CAEpCrB,OAAQ,CACNC,UAAW,iBACXC,UAAWC,EAAAA,IAEbC,OAAQ,CACN,CACEC,GAAI,SACJC,MAAO,kBACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,SACVC,OAAQ,KACRC,UAAW,MACXC,WAAY,gBACZC,UAAW,KACXC,QAAS,MACTC,KAAM,IAER,CACEV,GAAI,QACJC,MAAO,iBACPC,SAAU,GACVC,OAAQ,SACRC,QAAS,CAAC,SACVC,OAAQ,KACRC,UAAW,MACXC,WAAY,eACZC,UAAW,KACXC,QAAS,MACTC,KAAM,K,8EC5KZ,MAAMO,EAAY,CAAC,EAEbC,EAAY,EAEXC,eAAeC,GAAc,UAAExB,EAAS,UAAEC,IAC/C,MAAMwB,GAAUC,EACVC,EAAWF,EAAUzB,EAAY4B,KAAKC,UAAU5B,GAGhD6B,EAAMC,KAAKD,MACjB,GAAIT,EAAUM,GAAW,CACvB,MAAM,KAAEK,EAAI,KAAEC,GAASZ,EAAUM,GACjC,GAAkB,IAAdL,GAAmBQ,EAAMG,EAAOX,EAClC,OAAOU,CAEX,CAEA,GAAIP,EACF,IACE,MAAMS,QAAiBC,MAAMnC,GAC7B,IAAKkC,EAASE,GAAI,MAAM,IAAIC,MAAO,UAASH,EAASI,UACrD,MAAMC,QAAiBL,EAASM,OAEhC,OADAnB,EAAUM,GAAY,CAAEK,KAAMO,EAAUN,KAAMH,GACvCS,CACT,CAAE,MAAOE,GAEP,MADAC,EAAAA,EAAOD,MAAM,YAAaA,GACpBA,CACR,MAEA,IACE,MAAME,QAAeC,EAAAA,EAAAA,IAAY3C,GAEjC,OADAoB,EAAUM,GAAY,CAAEK,KAAMW,EAAQV,KAAMH,GACrCa,CACT,CAAE,MAAOF,GAEP,MADAC,EAAAA,EAAOD,MAAM,UAAWA,GAClBA,CACR,CAEJ,C,+ICzCUI,EAAAC,aAAU,WADlBC,EAAAA,EAAAA,IAKoCC,EAAA,CANtCC,IAAA,EAGKC,cAAeL,EAAA1C,OACf2C,WAAYD,EAAAC,WACZK,OAAQN,EAAAM,OACRC,aAAa,G,kDANlBC,EAAAA,EAAAA,IAAA,M,4CAgBA,GACEC,KAAM,qBACNC,WAAY,CAAEC,UAASA,EAAAA,YACvBxB,IAAAA,GACE,MAAO,CACL7B,OAAQgB,EAAAA,GAAyBhB,OACjC2C,WAAY,KACZK,OAAQhC,EAAAA,GAAyBpB,OAErC,EACA,aAAM0D,GACJ,IACEC,KAAKZ,iBAAmBtB,EAAAA,EAAAA,GACtBkC,KAAKP,OAET,CAAE,MAAOQ,GACPjB,EAAAA,EAAOD,MAAM,SAAUkB,EACzB,CACF,G,UC7BF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,2JCNSC,MAAM,mB,GACHA,MAAM,e,GAFlBb,IAAA,EAGkCa,MAAM,kB,GAE3BA,MAAM,kB,GAUNA,MAAM,iB,UACPC,EAAAA,EAAAA,IAAwC,SAAjCD,MAAM,cAAa,UAAM,K,gGAfxCE,EAAAA,EAAAA,IAsBM,MAtBNC,EAsBM,EArBFF,EAAAA,EAAAA,IAA8C,KAA9CG,GAA8CC,EAAAA,EAAAA,IAAnBC,EAAAC,MAAMhE,OAAK,GAC5B+D,EAAAC,MAAM/D,WAAQ,WAAxB0D,EAAAA,EAAAA,IAA0E,KAA1EM,GAA0EH,EAAAA,EAAAA,IAAtBC,EAAAC,MAAM/D,UAAQ,KAH1E+C,EAAAA,EAAAA,IAAA,QAKQU,EAAAA,EAAAA,IASM,MATNQ,EASM,EARFR,EAAAA,EAAAA,IAGS,UAHAD,OANrBU,EAAAA,EAAAA,IAAA,6BAM0E,QAAd3B,EAAAnC,aAAyB+D,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAE9B,EAAAnC,UAAY,OACxFkE,KAAK,UAAS,QAElB,IACAb,EAAAA,EAAAA,IAGS,UAHAD,OAVrBU,EAAAA,EAAAA,IAAA,6BAU0E,SAAd3B,EAAAnC,aAA0B+D,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAE9B,EAAAnC,UAAY,QACzFkE,KAAK,UAAS,QAElB,MAEJb,EAAAA,EAAAA,IAIM,MAJNc,EAIM,CAHFC,GACAC,EAAAA,EAAAA,IAC0DC,EAAA,CAlBtEC,WAiBgCpC,EAAAqC,UAjBhC,sBAAAR,EAAA,KAAAA,EAAA,GAAAC,GAiBgC9B,EAAAqC,UAASP,GAAGQ,IAAK,EAAIC,IAAK,GAAKC,KAAM,EAAG,kBACvD,iBAAgBC,EAAAC,cAAezB,MAAM,e,2CAG9CiB,EAAAA,EAAAA,IAC6BS,EAAA,CADjBnB,MAAOD,EAAAC,MAAQ3D,UAAWmC,EAAAnC,UAAYoC,WAAYsB,EAAAtB,WAAaK,OAAQiB,EAAAjB,OAC9E+B,UAAWrC,EAAAqC,W,gFAOxB,GACI3B,WAAY,CAAEkC,UAASA,EAAAA,YACvBC,MAAO,CACHrB,MAAOsB,OACP7C,WAAY6C,OACZxC,OAAQwC,OACRC,iBAAkB,CACdhB,KAAMiB,OACNC,QAAS,OAEbC,SAAUF,QAEd7D,IAAAA,GACI,MAAO,CACHtB,UAAWgD,KAAKkC,iBAChBV,UAAW,GAEnB,EACAc,SAAU,CAENT,aAAAA,GACI,OAAQU,IACJ,MAAMnF,EAAyB,YAAlB4C,KAAKqC,SAAyB,KAAO,IAClD,MAAQ,KAAIE,KAAOnF,GAAM,CAEjC,I,UC/CR,MAAM8C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,qGCROC,MAAM,oB,GADbb,IAAA,EAEoCa,MAAM,qB,GAC/BA,MAAM,mB,6EAFfE,EAAAA,EAAAA,IAaM,MAbNC,EAaM,CAZOqB,EAAAY,sBAAmB,WAA9BlC,EAAAA,EAAAA,IAQM,MARNE,EAQM,EAPJH,EAAAA,EAAAA,IAMM,MANNO,EAMM,EALJP,EAAAA,EAAAA,IAAgD,OAA3CD,OAJbU,EAAAA,EAAAA,IAAA,CAImB,aAAqB3B,EAAAkD,Y,SAChChC,EAAAA,EAAAA,IAC2C,UADnCD,OALhBU,EAAAA,EAAAA,IAAA,CAKsB,iBAAgB,CAAA2B,OAAgC,YAAbtD,EAAAkD,YAC9CtB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAE9B,EAAAkD,SAAW,YAAW,KAAE,IAClChC,EAAAA,EAAAA,IAC0C,UADlCD,OAPhBU,EAAAA,EAAAA,IAAA,CAOsB,iBAAgB,CAAA2B,OAAgC,WAAbtD,EAAAkD,YAC9CtB,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAE9B,EAAAkD,SAAW,WAAU,KAAE,SARzC1C,EAAAA,EAAAA,IAAA,sBAYIW,EAAAA,EAAAA,IAC0CoC,EAAAA,GAAA,MAb9CC,EAAAA,EAAAA,IAYoCf,EAAAgB,gBAATjC,K,WAAvBtB,EAAAA,EAAAA,IAC0CwD,EAAA,CADOtD,IAAKoB,EAAMjE,GAAKiE,MAAOA,EAAQvB,WAAYsB,EAAAtB,WACzFK,OAAQiB,EAAAjB,OAAS4C,SAAUlD,EAAAkD,U,4EAOlC,GACExC,WAAY,CAAEiD,eAAcA,EAAAA,YAC5Bd,MAAO,CACLxC,cAAeuD,MACf3D,WAAY6C,OACZxC,OAAQwC,OACRvC,YAAa,CAAEwB,KAAM8B,QAASZ,SAAS,IAEzC9D,IAAAA,GACE,MAAO,CACL+D,SAAU,UAEd,EACAC,SAAU,CACRE,mBAAAA,GACE,IAAKxC,KAAKN,YAAa,OAAO,EAC9B,MAAMuD,EAAU,IAAIC,IAAIlD,KAAKR,cAAc2D,KAAKC,GAAMA,EAAErG,UACxD,OAAOkG,EAAQI,IAAI,OAASJ,EAAQI,IAAI,KAC1C,EACAC,eAAAA,GACE,MAAML,EAAU,IAAIC,IAAIlD,KAAKR,cAAc2D,KAAKC,GAAMA,EAAErG,UACxD,OAAIkG,EAAQI,IAAI,MAAc,UAC1BJ,EAAQI,IAAI,MAAc,SACvB,SACT,EACAE,cAAAA,GACE,OAAKvD,KAAKwC,oBACHxC,KAAKR,cAAcgE,QAAQJ,GACd,YAAlBpD,KAAKqC,SAAsC,OAAbe,EAAErG,OAA+B,OAAbqG,EAAErG,SAFhBiD,KAAKR,aAI7C,EACAoD,cAAAA,GACE,OAAO5C,KAAKuD,eAAeC,QAAQ7C,IACjC,MAAM8C,EAAKzD,KAAKZ,YAAYsE,UAAUD,KAAK9C,EAAM5D,QACjD,OAAOgG,MAAMY,QAAQF,IAAOA,EAAGG,OAAS,CAAC,GAE7C,GAEFC,OAAAA,GACE7D,KAAKqC,SAAWrC,KAAKsD,eACvB,G,UCrDF,MAAMpD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://tangdata/./src/config/chartMetaWH.js","webpack://tangdata/./src/config/dataLoader.js","webpack://tangdata/./src/components/WH/WHRealEstateInvest.vue","webpack://tangdata/./src/components/WH/WHRealEstateInvest.vue?f1f2","webpack://tangdata/./src/components/common/ChartContainer.vue","webpack://tangdata/./src/components/common/ChartContainer.vue?9df1","webpack://tangdata/./src/components/common/ChartPage.vue","webpack://tangdata/./src/components/common/ChartPage.vue?6ceb"],"sourcesContent":["import { params_wh } from '@/utils/CommonUtil.js';\n\nexport const WHEducationCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'EC',\n      title: '教育(万人)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A0801'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    }\n\n  ]\n};\n\nexport const WHFinanceCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'FY',\n      title: '地方财政(亿元)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A0401', 'A0402', 'A0403'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '地方一般公共预算',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    }\n\n  ]\n};\n\nexport const WHGDPCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'GDP',\n      title: '武汉市GDP(亿元)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A0101', 'A0102', 'A0103', 'A0104'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '增加值',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    }\n\n  ]\n};\n\nexport const WHMedicalCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'MC',\n      title: '医院数(个)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A0802'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    }\n\n  ]\n};\n\nexport const WHPopulationCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'PL',\n      title: '年末户籍人口(万人)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A0201'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '人口',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    }\n\n  ]\n};\n\nexport const WHRealEstateInvestCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'EI',\n      title: '房地产开发投资额(亿元)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A0302', 'A0303', 'A0304'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '房地产开发投资额',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    }\n\n  ]\n};\n\nexport const WHRealEstateSellCharts = {\n\n  source: {\n    localJson: './json/wh.json',\n    apiParams: params_wh\n  },\n  charts: [\n    {\n      id: 'ES-SAY',\n      title: '住宅商品房销售面积(万平方米)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A030A'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '商品房销售面积(万平方米)',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    },\n    {\n      id: 'ES-SY',\n      title: '住宅商品房平均销售价格(元)',\n      subtitle: '',\n      period: 'yearly',\n      typeArr: ['A030C'],\n      dbCode: 'nd',\n      chartType: 'bar',\n      exceptName: '商品房平均销售价格(元)',\n      legendTop: '5%',\n      gridTop: '25%',\n      unit: ''\n    },\n\n  ]\n};\n\n","// utils/dataLoader.js\nimport { sendRequest } from '@/utils/CommonUtil.js';\nimport { logger } from '@/utils/Logger.js';\n\n// 缓存对象\nconst dataCache = {};\n// 如果需要过期刷新，可以设置 TTL（毫秒），例如 5 分钟\nconst CACHE_TTL = 0; // 0 表示永不过期\n\nexport async function loadChartData({ localJson, apiParams }) {\n  const isLocal = process.env.VUE_APP_REQUEST_IS_LOCAL === 'true';\n  const cacheKey = isLocal ? localJson : JSON.stringify(apiParams);\n\n  // 检查缓存\n  const now = Date.now();\n  if (dataCache[cacheKey]) {\n    const { data, time } = dataCache[cacheKey];\n    if (CACHE_TTL === 0 || now - time < CACHE_TTL) {\n      return data;\n    }\n  }\n\n  if (isLocal) {\n    try {\n      const response = await fetch(localJson);\n      if (!response.ok) throw new Error(`状态码错误: ${response.status}`);\n      const jsonData = await response.json();\n      dataCache[cacheKey] = { data: jsonData, time: now };\n      return jsonData;\n    } catch (error) {\n      logger.error('本地数据加载失败:', error);\n      throw error;\n    }\n  } else {\n    try {\n      const result = await sendRequest(apiParams);\n      dataCache[cacheKey] = { data: result, time: now };\n      return result;\n    } catch (error) {\n      logger.error('接口请求失败:', error);\n      throw error;\n    }\n  }\n}","<template>\n  <ChartPage\n    v-if=\"returnData\"\n    :chartMetaList=\"charts\"\n    :returnData=\"returnData\"\n    :config=\"config\" \n    :showToggles=\"false\" ></ChartPage>\n</template>\n\n<script>\nimport ChartPage from '@/components/common/ChartPage.vue';\nimport { WHRealEstateInvestCharts } from '@/config/chartMetaWH.js';\n\nimport { loadChartData } from '@/config/dataLoader.js';\nimport { logger } from '@/utils/Logger.js';\n\nexport default {\n  name: 'WHRealEstateInvest',\n  components: { ChartPage },\n  data() {\n    return {\n      charts: WHRealEstateInvestCharts.charts,\n      returnData: null,\n      config: WHRealEstateInvestCharts.source\n    };\n  },\n  async mounted() {\n    try {\n      this.returnData = await loadChartData(\n        this.config\n      );\n    } catch (e) {\n      logger.error('加载数据失败', e);\n    }\n  }\n};\n\n</script>\n","import { render } from \"./WHRealEstateInvest.vue?vue&type=template&id=2b23e33b\"\nimport script from \"./WHRealEstateInvest.vue?vue&type=script&lang=js\"\nexport * from \"./WHRealEstateInvest.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"chart-container\">\n        <h3 class=\"chart-title\">{{ chart.title }}</h3>\n        <h4 v-if=\"chart.subtitle\" class=\"chart-subtitle\">{{ chart.subtitle }}</h4>\n\n        <div class=\"chart-controls\">\n            <button :class=\"['chart-button', { 'is-active': chartType === 'bar' }]\" @click=\"chartType = 'bar'\"\n                type=\"button\">\n                柱状图\n            </button>\n            <button :class=\"['chart-button', { 'is-active': chartType === 'line' }]\" @click=\"chartType = 'line'\"\n                type=\"button\">\n                折线图\n            </button>\n        </div>\n        <div class=\"year-selector\">\n            <label class=\"year-label\">选择时间范围</label>\n            <el-slider v-model=\"yearLimit\" :min=\"1\" :max=\"20\" :step=\"1\" show-tooltip\n                :format-tooltip=\"formatTooltip\" class=\"year-slider\" />\n        </div>\n\n        <ChartCard :chart=\"chart\" :chartType=\"chartType\" :returnData=\"returnData\" :config=\"config\"\n            :yearLimit=\"yearLimit\" />\n    </div>\n</template>\n\n<script>\nimport ChartCard from './ChartCard.vue';\n\nexport default {\n    components: { ChartCard },\n    props: {\n        chart: Object,\n        returnData: Object,\n        config: Object,\n        initialChartType: {\n            type: String,\n            default: 'bar'\n        },\n        viewMode: String,\n    },\n    data() {\n        return {\n            chartType: this.initialChartType,\n            yearLimit: 10\n        };\n    },\n    computed: {\n        // 支持动态 tooltip 格式\n        formatTooltip() {\n            return (val) => {\n                const unit = this.viewMode === 'monthly' ? '个月' : '年';\n                return `近 ${val} ${unit}`;\n            };\n        }\n    }\n};\n\n</script>\n\n\n\n<style scoped>\n.chart-container {\n    width: 100%;\n    max-width: 1500px;\n    margin: 0 auto 60px;\n    padding: 16px;\n    box-sizing: border-box;\n    background-color: #fff;\n    border-radius: 12px;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.06);\n    margin-top: 50px;\n}\n\n.chart-title {\n    text-align: center;\n    font-size: 18px;\n    font-weight: 700;\n    /* 比 500 更粗，接近 canvas 渲染视觉效果 */\n    color: #333;\n    font-family: 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif;\n    margin: 24px 0 6px;\n    line-height: 1.4;\n\n\n}\n\n.chart-subtitle {\n    font-size: 13px;\n    font-weight: bold;\n    line-height: 20px;\n    color: #666;\n    /* 可改为 #aaa 如果需要更淡 */\n    text-align: center;\n    white-space: pre-line;\n    overflow-wrap: break-word;\n    margin: 0 auto 12px;\n    max-width: 80vw;\n    /* 等价于 window.innerWidth * 0.8 */\n}\n\n.chart-controls {\n    display: flex;\n    justify-content: center;\n    gap: 12px;\n    margin-bottom: 16px;\n    margin-top: 8px;\n    /* ✅ 确保和 legend 保持间隔 */\n}\n\n.chart-button {\n    padding: 6px 12px;\n    font-size: 13px;\n    border-radius: 10px;\n    background-color: #ccc;\n    color: #fff;\n    border: none;\n    cursor: pointer;\n    transition: background 0.3s;\n    margin-top: 10px;\n}\n\n.chart-button.is-active {\n    background-color: #0bc2d6;\n}\n\n.year-selector {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /* 横向居中 */\n    justify-content: center;\n    /* 纵向居中 */\n    margin: 16px 0;\n}\n\n.year-label {\n    padding: 6px 8px;\n    font-size: 13px;\n    border-radius: 8px;\n    font-weight: bold;\n    margin-bottom: 8px;\n    color: #fff;\n    background-color: #0bc2d6 !important;\n}\n\n/* 限制滑块宽度 */\n.year-slider {\n    width: 10%; /* 默认 PC 端 */\n    min-width: 100px; /* 避免过窄 */\n}\n\n/* Vue3 推荐写法：v-deep 前缀，作用于 element-plus 内部 */\n::v-deep(.year-slider .el-slider__bar) {\n    background-color: #0bc2d6 !important;\n}\n\n::v-deep(.year-slider .el-slider__button) {\n    background-color: #0bc2d6 !important;\n    border-color: #0bc2d6 !important;\n}\n</style>","import { render } from \"./ChartContainer.vue?vue&type=template&id=6629095f&scoped=true\"\nimport script from \"./ChartContainer.vue?vue&type=script&lang=js\"\nexport * from \"./ChartContainer.vue?vue&type=script&lang=js\"\n\nimport \"./ChartContainer.vue?vue&type=style&index=0&id=6629095f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6629095f\"]])\n\nexport default __exports__","<template>\n  <div class=\"echart-container\">\n    <div v-if=\"internalShowToggles\" class=\"segment-container\">\n      <div class=\"segment-wrapper\">\n        <div class=\"segment-bg\" :class=\"viewMode\"></div>\n        <button class=\"segment-button\" :class=\"{ active: viewMode === 'monthly' }\"\n          @click=\"viewMode = 'monthly'\">月度</button>\n        <button class=\"segment-button\" :class=\"{ active: viewMode === 'yearly' }\"\n          @click=\"viewMode = 'yearly'\">年度</button>\n      </div>\n    </div>\n\n    <ChartContainer v-for=\"chart in chartsToRender\" :key=\"chart.id\" :chart=\"chart\" :returnData=\"returnData\"\n      :config=\"config\" :viewMode=\"viewMode\" />\n  </div>\n</template>\n\n<script>\nimport ChartContainer from './ChartContainer.vue';\n\nexport default {\n  components: { ChartContainer },\n  props: {\n    chartMetaList: Array,\n    returnData: Object,\n    config: Object,\n    showToggles: { type: Boolean, default: true },\n  },\n  data() {\n    return {\n      viewMode: 'monthly',\n    };\n  },\n  computed: {\n    internalShowToggles() {\n      if (!this.showToggles) return false;\n      const dbCodes = new Set(this.chartMetaList.map((c) => c.dbCode));\n      return dbCodes.has('yd') && dbCodes.has('nd');\n    },\n    defaultViewMode() {\n      const dbCodes = new Set(this.chartMetaList.map((c) => c.dbCode));\n      if (dbCodes.has('yd')) return 'monthly';\n      if (dbCodes.has('nd')) return 'yearly';\n      return 'monthly';\n    },\n    filteredCharts() {\n      if (!this.internalShowToggles) return this.chartMetaList;\n      return this.chartMetaList.filter((c) =>\n        this.viewMode === 'monthly' ? c.dbCode === 'yd' : c.dbCode === 'nd'\n      );\n    },\n    chartsToRender() {\n      return this.filteredCharts.filter((chart) => {\n        const sj = this.returnData?.dataList?.sj?.[chart.dbCode];\n        return Array.isArray(sj) && sj.length > 0;\n      });\n    },\n  },\n  created() {\n    this.viewMode = this.defaultViewMode;\n  },\n};\n</script>\n\n<style scoped>\n.segment-container {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n  margin-bottom: 30px;\n}\n\n.segment-wrapper {\n  position: relative;\n  display: flex;\n  width: 200px;\n  height: 45px;\n  background-color: #fff;\n  border-radius: 999px;\n  padding: 2px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n  /* ✅ 外部阴影更明显 */\n}\n\n/* 背景高亮滑块 */\n.segment-bg {\n  position: absolute;\n  top: 2px;\n  bottom: 2px;\n  width: 50%;\n  border-radius: 999px;\n  background-color: #0bc2d6;\n  transition: left 0.25s ease;\n  z-index: 0;\n}\n\n.segment-bg.monthly {\n  left: 2px;\n}\n\n.segment-bg.yearly {\n  left: 50%;\n}\n\n/* 按钮本体 */\n.segment-button {\n  position: relative;\n  flex: 1;\n  z-index: 1;\n  border: none;\n  outline: none;\n  background: transparent;\n  color: #333;\n  font-size: 14px;\n  font-weight: 500;\n  border-radius: 999px;\n  cursor: pointer;\n  transition: color 0.25s ease;\n}\n\n.segment-button.active {\n  color: #fff;\n}\n\n\n</style>","import { render } from \"./ChartPage.vue?vue&type=template&id=ce7a7c4e&scoped=true\"\nimport script from \"./ChartPage.vue?vue&type=script&lang=js\"\nexport * from \"./ChartPage.vue?vue&type=script&lang=js\"\n\nimport \"./ChartPage.vue?vue&type=style&index=0&id=ce7a7c4e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce7a7c4e\"]])\n\nexport default __exports__"],"names":["WHEducationCharts","source","localJson","apiParams","params_wh","charts","id","title","subtitle","period","typeArr","dbCode","chartType","exceptName","legendTop","gridTop","unit","WHFinanceCharts","WHGDPCharts","WHMedicalCharts","WHPopulationCharts","WHRealEstateInvestCharts","WHRealEstateSellCharts","dataCache","CACHE_TTL","async","loadChartData","isLocal","process","cacheKey","JSON","stringify","now","Date","data","time","response","fetch","ok","Error","status","jsonData","json","error","logger","result","sendRequest","$data","returnData","_createBlock","_component_ChartPage","key","chartMetaList","config","showToggles","_createCommentVNode","name","components","ChartPage","mounted","this","e","__exports__","render","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","$props","chart","_hoisted_3","_hoisted_4","_normalizeClass","onClick","_cache","$event","type","_hoisted_5","_hoisted_6","_createVNode","_component_el_slider","modelValue","yearLimit","min","max","step","$options","formatTooltip","_component_ChartCard","ChartCard","props","Object","initialChartType","String","default","viewMode","computed","val","internalShowToggles","active","_Fragment","_renderList","chartsToRender","_component_ChartContainer","ChartContainer","Array","Boolean","dbCodes","Set","map","c","has","defaultViewMode","filteredCharts","filter","sj","dataList","isArray","length","created"],"sourceRoot":""}