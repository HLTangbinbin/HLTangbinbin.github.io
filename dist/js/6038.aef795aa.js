"use strict";(self["webpackChunktangdata"]=self["webpackChunktangdata"]||[]).push([[6038,410,624,9522],{7748:function(t,e,r){r.d(e,{LD:function(){return n},Qk:function(){return c},Y$:function(){return i},k1:function(){return s},ku:function(){return u},rX:function(){return o},ze:function(){return d}});var a=r(2009);const n={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"EC",title:"教育(万人)",subtitle:"",period:"yearly",typeArr:["A0801"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""}]},o={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"FY",title:"地方财政(亿元)",subtitle:"",period:"yearly",typeArr:["A0401","A0402","A0403"],dbCode:"nd",chartType:"bar",exceptName:"地方一般公共预算",legendTop:"5%",gridTop:"25%",unit:""}]},c={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"GDP",title:"武汉市GDP(亿元)",subtitle:"",period:"yearly",typeArr:["A0101","A0102","A0103","A0104"],dbCode:"nd",chartType:"bar",exceptName:"增加值",legendTop:"5%",gridTop:"25%",unit:""}]},i={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"MC",title:"医院数(个)",subtitle:"",period:"yearly",typeArr:["A0802"],dbCode:"nd",chartType:"bar",exceptName:"",legendTop:"5%",gridTop:"25%",unit:""}]},s={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"PL",title:"年末户籍人口(万人)",subtitle:"",period:"yearly",typeArr:["A0201"],dbCode:"nd",chartType:"bar",exceptName:"人口",legendTop:"5%",gridTop:"25%",unit:""}]},u={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"EI",title:"房地产开发投资额(亿元)",subtitle:"",period:"yearly",typeArr:["A0302","A0303","A0304"],dbCode:"nd",chartType:"bar",exceptName:"房地产开发投资额",legendTop:"5%",gridTop:"25%",unit:""}]},d={source:{localJson:"./json/wh.json",apiParams:a.VV},charts:[{id:"ES-SAY",title:"住宅商品房销售面积(万平方米)",subtitle:"",period:"yearly",typeArr:["A030A"],dbCode:"nd",chartType:"bar",exceptName:"商品房销售面积(万平方米)",legendTop:"5%",gridTop:"25%",unit:""},{id:"ES-SY",title:"住宅商品房平均销售价格(元)",subtitle:"",period:"yearly",typeArr:["A030C"],dbCode:"nd",chartType:"bar",exceptName:"商品房平均销售价格(元)",legendTop:"5%",gridTop:"25%",unit:""}]}},6311:function(t,e,r){r.d(e,{h:function(){return n}});var a=r(2009);async function n({localJson:t,apiParams:e}){const r=!0;if(r)try{const e=await fetch(t);if(!e.ok)throw new Error(`状态码错误: ${e.status}`);return await e.json()}catch(n){throw console.error("本地数据加载失败:",n),n}else try{const t=await(0,a.w$)(e);return t}catch(n){throw console.error("接口请求失败:",n),n}}},1317:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var a=r(6768);function n(t,e,r,n,o,c){const i=(0,a.g2)("ChartPage");return o.returnData?((0,a.uX)(),(0,a.Wv)(i,{key:0,chartMetaList:o.charts,returnData:o.returnData,config:o.config,showToggles:!1},null,8,["chartMetaList","returnData","config"])):(0,a.Q3)("",!0)}var o=r(5977),c=r(7748),i=r(6311),s={name:"WHGDP",components:{ChartPage:o["default"]},data(){return{charts:c.Qk.charts,returnData:null,config:c.Qk.source}},async mounted(){try{this.returnData=await(0,i.h)(this.config)}catch(t){console.error("加载数据失败",t)}}},u=r(1241);const d=(0,u.A)(s,[["render",n]]);var l=d},7735:function(t,e,r){r.r(e),r.d(e,{default:function(){return y}});var a=r(6768),n=r(4232);const o={class:"chart-container"},c={class:"chart-title"},i={key:0,class:"chart-subtitle"},s={class:"chart-controls"};function u(t,e,r,u,d,l){const h=(0,a.g2)("ChartCard");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("h3",c,(0,n.v_)(r.chart.title),1),r.chart.subtitle?((0,a.uX)(),(0,a.CE)("h4",i,(0,n.v_)(r.chart.subtitle),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",s,[(0,a.Lk)("button",{class:(0,n.C4)(["chart-button",{"is-active":"bar"===d.chartType}]),onClick:e[0]||(e[0]=t=>d.chartType="bar"),type:"button"}," 柱状图 ",2),(0,a.Lk)("button",{class:(0,n.C4)(["chart-button",{"is-active":"line"===d.chartType}]),onClick:e[1]||(e[1]=t=>d.chartType="line"),type:"button"}," 折线图 ",2)]),(0,a.bF)(h,{chart:r.chart,chartType:d.chartType,returnData:r.returnData,config:r.config},null,8,["chart","chartType","returnData","config"])])}var d=r(5829),l={components:{ChartCard:d["default"]},props:{chart:Object,returnData:Object,config:Object,initialChartType:{type:String,default:"bar"}},data(){return{chartType:this.initialChartType}}},h=r(1241);const p=(0,h.A)(l,[["render",u],["__scopeId","data-v-9ae8c124"]]);var y=p},5977:function(t,e,r){r.r(e),r.d(e,{default:function(){return p}});var a=r(6768),n=r(4232);const o={class:"echart-container"},c={key:0,class:"segment-container"},i={class:"segment-wrapper"};function s(t,e,r,s,u,d){const l=(0,a.g2)("ChartContainer");return(0,a.uX)(),(0,a.CE)("div",o,[d.internalShowToggles?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",i,[(0,a.Lk)("div",{class:(0,n.C4)(["segment-bg",u.viewMode])},null,2),(0,a.Lk)("button",{class:(0,n.C4)(["segment-button",{active:"monthly"===u.viewMode}]),onClick:e[0]||(e[0]=t=>u.viewMode="monthly")},"月度",2),(0,a.Lk)("button",{class:(0,n.C4)(["segment-button",{active:"yearly"===u.viewMode}]),onClick:e[1]||(e[1]=t=>u.viewMode="yearly")},"年度",2)])])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(d.chartsToRender,(t=>((0,a.uX)(),(0,a.Wv)(l,{key:t.id,chart:t,returnData:r.returnData,config:r.config},null,8,["chart","returnData","config"])))),128))])}var u=r(7735),d={components:{ChartContainer:u["default"]},props:{chartMetaList:Array,returnData:Object,config:Object,showToggles:{type:Boolean,default:!0}},data(){return{viewMode:"monthly"}},computed:{internalShowToggles(){if(!this.showToggles)return!1;const t=new Set(this.chartMetaList.map((t=>t.dbCode)));return t.has("yd")&&t.has("nd")},defaultViewMode(){const t=new Set(this.chartMetaList.map((t=>t.dbCode)));return t.has("yd")?"monthly":t.has("nd")?"yearly":"monthly"},filteredCharts(){return this.internalShowToggles?this.chartMetaList.filter((t=>"monthly"===this.viewMode?"yd"===t.dbCode:"nd"===t.dbCode)):this.chartMetaList},chartsToRender(){return this.filteredCharts.filter((t=>{const e=this.returnData?.dataList?.sj?.[t.dbCode];return Array.isArray(e)&&e.length>0}))}},created(){this.viewMode=this.defaultViewMode}},l=r(1241);const h=(0,l.A)(d,[["render",s],["__scopeId","data-v-487f0ab0"]]);var p=h}}]);
//# sourceMappingURL=6038.aef795aa.js.map