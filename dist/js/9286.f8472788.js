"use strict";(self["webpackChunktangdata"]=self["webpackChunktangdata"]||[]).push([[9286,2535,9650],{8264:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var r=a(6768),n=a(4232);const i=t=>((0,r.Qi)("data-v-10d8bf4a"),t=t(),(0,r.jt)(),t),o={class:"chart-container"},s={class:"chart-title"},c={key:0,class:"chart-subtitle"},l={class:"chart-controls"},d={class:"year-selector"},h=i((()=>(0,r.Lk)("label",{class:"year-label"},"选择时间范围",-1)));function u(t,e,a,i,u,y){const p=(0,r.g2)("el-slider"),b=(0,r.g2)("ChartCard");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("h3",s,(0,n.v_)(a.chart.title),1),a.chart.subtitle?((0,r.uX)(),(0,r.CE)("h4",c,(0,n.v_)(a.chart.subtitle),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",l,[(0,r.Lk)("button",{class:(0,n.C4)(["chart-button",{"is-active":"bar"===u.chartType&&!1===u.isHorizontal}]),onClick:e[0]||(e[0]=t=>{u.chartType="bar",u.isHorizontal=!1}),type:"button"}," 柱状图 ",2),(0,r.Lk)("button",{class:(0,n.C4)(["chart-button",{"is-active":"bar"===u.chartType&&!0===u.isHorizontal}]),onClick:e[1]||(e[1]=t=>{u.chartType="bar",u.isHorizontal=!0}),type:"button"}," 条形图 ",2),(0,r.Lk)("button",{class:(0,n.C4)(["chart-button",{"is-active":"line"===u.chartType&&!1===u.isHorizontal}]),onClick:e[2]||(e[2]=t=>{u.chartType="line",u.isHorizontal=!1}),type:"button"}," 折线图 ",2)]),(0,r.Lk)("div",d,[h,(0,r.bF)(p,{modelValue:u.yearLimit,"onUpdate:modelValue":e[3]||(e[3]=t=>u.yearLimit=t),min:1,max:20,step:1,"show-tooltip":"","format-tooltip":y.formatTooltip,class:"year-slider"},null,8,["modelValue","format-tooltip"])]),(0,r.bF)(b,{chart:a.chart,chartType:u.chartType,returnData:a.returnData,config:a.config,yearLimit:u.yearLimit,isHorizontal:u.isHorizontal},null,8,["chart","chartType","returnData","config","yearLimit","isHorizontal"])])}var y=a(5631),p={components:{ChartCard:y["default"]},props:{chart:Object,returnData:Object,config:Object,initialChartType:{type:String,default:"bar"},viewMode:String},data(){return{chartType:this.initialChartType,yearLimit:10,isHorizontal:!1}},computed:{formatTooltip(){return t=>{const e="monthly"===this.viewMode?"个月":"年";return`近 ${t} ${e}`}}}},b=a(1241);const v=(0,b.A)(p,[["render",u],["__scopeId","data-v-10d8bf4a"]]);var f=v},9892:function(t,e,a){a.r(e),a.d(e,{default:function(){return y}});var r=a(6768),n=a(4232);const i={class:"echart-container"},o={key:0,class:"segment-container"},s={class:"segment-wrapper"};function c(t,e,a,c,l,d){const h=(0,r.g2)("ChartContainer");return(0,r.uX)(),(0,r.CE)("div",i,[d.internalShowToggles?((0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",s,[(0,r.Lk)("div",{class:(0,n.C4)(["segment-bg",l.viewMode])},null,2),(0,r.Lk)("button",{class:(0,n.C4)(["segment-button",{active:"monthly"===l.viewMode}]),onClick:e[0]||(e[0]=t=>l.viewMode="monthly")},"月度",2),(0,r.Lk)("button",{class:(0,n.C4)(["segment-button",{active:"yearly"===l.viewMode}]),onClick:e[1]||(e[1]=t=>l.viewMode="yearly")},"年度",2)])])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.chartsToRender,(t=>((0,r.uX)(),(0,r.Wv)(h,{key:t.id,chart:t,returnData:a.returnData,config:a.config,viewMode:l.viewMode},null,8,["chart","returnData","config","viewMode"])))),128))])}var l=a(8264),d={components:{ChartContainer:l["default"]},props:{chartMetaList:Array,returnData:Object,config:Object,showToggles:{type:Boolean,default:!0}},data(){return{viewMode:"monthly"}},computed:{internalShowToggles(){if(!this.showToggles)return!1;const t=new Set(this.chartMetaList.map((t=>t.dbCode)));return t.has("yd")&&t.has("nd")},defaultViewMode(){const t=new Set(this.chartMetaList.map((t=>t.dbCode)));return t.has("yd")?"monthly":t.has("nd")?"yearly":"monthly"},filteredCharts(){return this.internalShowToggles?this.chartMetaList.filter((t=>"monthly"===this.viewMode?"yd"===t.dbCode:"nd"===t.dbCode)):this.chartMetaList},chartsToRender(){return this.filteredCharts.filter((t=>{const e=this.returnData?.dataList?.sj?.[t.dbCode];return Array.isArray(e)&&e.length>0}))}},created(){this.viewMode=this.defaultViewMode}},h=a(1241);const u=(0,h.A)(d,[["render",c],["__scopeId","data-v-ce7a7c4e"]]);var y=u}}]);
//# sourceMappingURL=9286.f8472788.js.map